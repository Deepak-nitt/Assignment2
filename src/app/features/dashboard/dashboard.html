<div
  class="max-w-7xl mx-auto p-8 min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-rose-50"
>
  <!-- Header -->
  <h2
    class="text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 mb-12 text-center tracking-tight drop-shadow"
  >
    Portfolio Dashboard
  </h2>

  <!-- Search Box: Only show if there is at least one card -->
  <div *ngIf="portfolios.length > 0" class="mb-8 flex justify-center">
    <app-search-box
      placeholder="Search by name, skill, or project title..."
      [value]="searchTerm"
      (valueChange)="onSearchChange($event)"
    ></app-search-box>
  </div>

  <!-- Portfolios Grid or No Results -->
  <ng-container *ngIf="portfolios.length > 0; else empty">
    <ng-container *ngIf="filteredPortfolios.length > 0; else noResults">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10">
        <div
          *ngFor="let portfolio of filteredPortfolios"
          class="bg-white rounded-2xl shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 border border-gray-200 flex flex-col items-center p-6"
        >
          <!-- Profile Image -->
          <div
            class="w-24 h-24 rounded-full overflow-hidden border-4 border-purple-100 shadow-md bg-gray-50"
          >
            <img
              src="https://media.istockphoto.com/id/1130884625/vector/user-member-vector-icon-for-ui-user-interface-or-profile-face-avatar-app-in-circle-design.jpg?s=612x612&w=0&k=20&c=1ky-gNHiS2iyLsUPQkxAtPBWH1BZt0PKBB1WBtxQJRE="
              class="w-full h-full object-cover"
            />
          </div>

          <!-- Name -->
          <h3 class="text-xl font-bold text-purple-600 mt-4">
            {{ portfolio.name }}
          </h3>

          <!-- Skills -->
          <div class="w-full mt-4">
            <h4 class="text-sm font-semibold text-gray-500 uppercase mb-2 tracking-wider">
              Skills
            </h4>
            <div class="flex flex-wrap gap-2">
              <span
                *ngFor="let skill of portfolio.skillsCsv.split(',')"
                class="px-3 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-700 shadow-sm hover:bg-purple-200 transition break-all"
              >
                {{ skill.trim() }}
              </span>
            </div>
          </div>

          <!-- Project -->
          <div class="w-full mt-4">
            <h4 class="text-sm font-semibold text-gray-500 uppercase mb-1 tracking-wider">
              Project
            </h4>
            <p class="text-base font-light text-gray-800 break-all">
              {{ portfolio.projectTitle }}
            </p>
          </div>

          <!-- Description -->
          <div class="w-full mt-4">
            <h4 class="text-sm font-semibold text-gray-500 uppercase mb-1 tracking-wider">
              Description
            </h4>
            <p class="text-gray-700 font-light leading-relaxed rounded-lg break-all ">
              {{ portfolio.projectDescription }}
            </p>
          </div>
        </div>
      </div>
    </ng-container>

    <!-- No Results State -->
    <ng-template #noResults>
      <div
        class="flex flex-col items-center justify-center py-32 bg-white rounded-2xl border-2 border-dashed border-purple-200 shadow-inner"
      >
        <svg
          class="w-16 h-16 text-purple-300 mb-6"
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          viewBox="0 0 24 24"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
        </svg>
        <h3 class="text-2xl font-bold text-purple-600 mb-2">No Results Found</h3>
        <p class="text-gray-500 text-base mb-6">
          Try adjusting your search or clearing the search box.
        </p>
      </div>
    </ng-template>
  </ng-container>

  <!-- Empty State (No portfolios at all) -->
  <ng-template #empty>
    <div
      class="flex flex-col items-center justify-center py-32 bg-white rounded-2xl border-2 border-dashed border-purple-200 shadow-inner"
    >
      <svg
        class="w-16 h-16 text-purple-300 mb-6"
        fill="none"
        stroke="currentColor"
        stroke-width="1.5"
        viewBox="0 0 24 24"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
      </svg>
      <h3 class="text-2xl font-bold text-purple-600 mb-2">No Portfolios Yet</h3>
      <p class="text-gray-500 text-base mb-6">
        Start by adding your first portfolio entry to showcase your work.
      </p>
      <button
        class="px-8 py-3 bg-gradient-to-r from-purple-400 to-pink-400 text-white font-semibold rounded-lg shadow-lg hover:scale-105 transition"
        (click)="onAddClick()"
      >
        Add Portfolio
      </button>
    </div>
  </ng-template>
</div>
